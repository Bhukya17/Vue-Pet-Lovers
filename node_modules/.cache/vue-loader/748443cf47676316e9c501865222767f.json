{"remainingRequest":"/home/access/Desktop/Bodhi-PetProjects/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/access/Desktop/Bodhi-PetProjects/src/components/StarRating.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/access/Desktop/Bodhi-PetProjects/src/components/StarRating.vue","mtime":1626880744181},{"path":"/home/access/Desktop/Bodhi-PetProjects/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/access/Desktop/Bodhi-PetProjects/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/access/Desktop/Bodhi-PetProjects/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/access/Desktop/Bodhi-PetProjects/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IHsgcmVmLCBvbkJlZm9yZU1vdW50LCBvbk1vdW50ZWQsIG9uQmVmb3JlVW5tb3VudCwgY29tcHV0ZWQgfSBmcm9tICd2dWUnCgogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6IlN0YXJSYXRpbmciLAogICAgc2V0dXAoKSB7CiAgICAgIGNvbnN0IHVzZXJzID0gcmVmKFtdKQogICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHJlZigwKQogICAgICBjb25zdCB0b3RhbFBhZ2VzID0gcmVmKCkKICAgICAgY29uc3QgbGltaXQgPSAxMAogICAgICBjb25zdCBpc0luaXRpYWxSZXF1ZXN0TG9hZGluZyA9IHJlZih0cnVlKQogICAgICBjb25zdCBpc0xvYWRpbmcgPSByZWYoZmFsc2UpCgogICAgICBjb25zdCBoYXNGZXRjaGVkQWxsRGF0YSA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgICByZXR1cm4gY3VycmVudFBhZ2UudmFsdWUgPT09IHRvdGFsUGFnZXMudmFsdWUgJiYgIWlzTG9hZGluZy52YWx1ZQogICAgICB9KQoKICAgICAgY29uc3QgZmV0Y2hVc2VycyA9IGFzeW5jICgpID0+IHsKICAgICAgICBjdXJyZW50UGFnZS52YWx1ZSsrCgogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3YxL3VzZXJzP2xpbWl0PSR7bGltaXR9JnBhZ2U9JHtjdXJyZW50UGFnZS52YWx1ZX1gKQogICAgICAgICAgY29uc3QgcGFyc2VkUmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCkKICAKICAgICAgICAgIHVzZXJzLnZhbHVlID0gWwogICAgICAgICAgICAuLi51c2Vycy52YWx1ZSwKICAgICAgICAgICAgLi4ucGFyc2VkUmVzcG9uc2UuZGF0YQogICAgICAgICAgXQogICAgICAgICAgdG90YWxQYWdlcy52YWx1ZSA9IHBhcnNlZFJlc3BvbnNlLnRvdGFsUGFnZXMKICAgICAgICB9IGNhdGNoKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgIH0KICAgICAgfQoKICAgICAgbGV0IGhhbmRsZVNjcm9sbCA9IGFzeW5jICgpID0+IHsKICAgICAgICBpZiAoKHdpbmRvdy5pbm5lckhlaWdodCArIHdpbmRvdy5zY3JvbGxZKSA+PSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCkgewogICAgICAgICAgY29uc29sZS5sb2coaGFzRmV0Y2hlZEFsbERhdGEudmFsdWUgfHwgaXNMb2FkaW5nLnZhbHVlKQogICAgICAgICAgaWYgKGhhc0ZldGNoZWRBbGxEYXRhLnZhbHVlIHx8IGlzTG9hZGluZy52YWx1ZSkgewogICAgICAgICAgICByZXR1cm4KICAgICAgICAgIH0KCiAgICAgICAgICBpc0xvYWRpbmcudmFsdWUgPSB0cnVlCiAgICAgICAgICAKICAgICAgICAgIGF3YWl0IGZldGNoVXNlcnMoKQoKICAgICAgICAgIGlzTG9hZGluZy52YWx1ZSA9IGZhbHNlCiAgICAgICAgfQogICAgICB9CgogICAgICBvbkJlZm9yZU1vdW50KGFzeW5jICgpID0+IHsKICAgICAgICBhd2FpdCBmZXRjaFVzZXJzKCkKICAgICAgICBpc0luaXRpYWxSZXF1ZXN0TG9hZGluZy52YWx1ZSA9IGZhbHNlCiAgICAgIH0pCgogICAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpCiAgICAgIH0pCgogICAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4gewogICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpCiAgICAgIH0pCgogICAgICByZXR1cm4gewogICAgICAgIHVzZXJzLAogICAgICAgIGlzSW5pdGlhbFJlcXVlc3RMb2FkaW5nLAogICAgICAgIGlzTG9hZGluZywKICAgICAgICBoYXNGZXRjaGVkQWxsRGF0YSwKICAgICAgfQogICAgfQogIH0K"},{"version":3,"sources":["/home/access/Desktop/Bodhi-PetProjects/src/components/StarRating.vue"],"names":[],"mappings":";EAiCE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;EAE7E,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACN,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;MAE3B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QACvC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClE,CAAC;;MAED,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;QAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAElB,CAAC,CAAC,EAAE;UACF,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAA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","file":"/home/access/Desktop/Bodhi-PetProjects/src/components/StarRating.vue","sourceRoot":"","sourcesContent":["<template>\n\n  <div id=\"app\">\n    <div v-if=\"isInitialRequestLoading\">\n      Loading users...\n    </div>\n    <ul class=\"users\">\n      <li\n        v-for=\"user in users\"\n        :key=\"user.id\"\n        class=\"user\"\n      >\n        <img :src=\"user.avatar\" />\n        <h3>{{ user.name }}</h3>\n      </li>\n    </ul>\n\n    <div\n      v-if=\"isLoading\"\n      class=\"loading-spinner\"\n    >\n      Loading moar users\n    </div>\n    <div\n      v-if=\"hasFetchedAllData\"\n      class=\"loading-spinner\"\n    >\n      No More Data\n    </div>\n  </div>\n</template>\n\n<script>\n  import { ref, onBeforeMount, onMounted, onBeforeUnmount, computed } from 'vue'\n\n  export default {\n    name:\"StarRating\",\n    setup() {\n      const users = ref([])\n      const currentPage = ref(0)\n      const totalPages = ref()\n      const limit = 10\n      const isInitialRequestLoading = ref(true)\n      const isLoading = ref(false)\n\n      const hasFetchedAllData = computed(() => {\n        return currentPage.value === totalPages.value && !isLoading.value\n      })\n\n      const fetchUsers = async () => {\n        currentPage.value++\n\n        try {\n          const response = await fetch(`http://localhost:3000/api/v1/users?limit=${limit}&page=${currentPage.value}`)\n          const parsedResponse = await response.json()\n  \n          users.value = [\n            ...users.value,\n            ...parsedResponse.data\n          ]\n          totalPages.value = parsedResponse.totalPages\n        } catch(err) {\n          console.log(err)\n        }\n      }\n\n      let handleScroll = async () => {\n        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n          console.log(hasFetchedAllData.value || isLoading.value)\n          if (hasFetchedAllData.value || isLoading.value) {\n            return\n          }\n\n          isLoading.value = true\n          \n          await fetchUsers()\n\n          isLoading.value = false\n        }\n      }\n\n      onBeforeMount(async () => {\n        await fetchUsers()\n        isInitialRequestLoading.value = false\n      })\n\n      onMounted(() => {\n        window.addEventListener('scroll', handleScroll)\n      })\n\n      onBeforeUnmount(() => {\n        window.removeEventListener('scroll', handleScroll)\n      })\n\n      return {\n        users,\n        isInitialRequestLoading,\n        isLoading,\n        hasFetchedAllData,\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n\n  .users {\n    padding-bottom: 5rem;\n  }\n\n  .user {\n    list-style: none;\n  }\n\n  .loading-spinner {\n    padding-bottom: 3rem;\n  }\n</style>\n"]}]}